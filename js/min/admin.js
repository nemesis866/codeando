function cap_visibility(e,t){"public"==t?document.getElementById("cap_public_"+e).style.display="none":"draw"==t&&(document.getElementById("cap_draw_"+e).style.display="none"),ajax(url,{visibility:t,id:e,type:"cap_visibility"},function(e){document.getElementById("cap_"+e["return"]+"_"+e.id).style.display="block",success(e.status)},"Json")}function curso_delete(e){var t='Esta seguro de eliminar el curso <a class="icon-yes" onclick="javascript:curso_delete_yes('+e+')"></a> <a class="icon-no" onclick="javascript:curso_delete_no('+e+')"></a>';document.getElementById("curso_"+e).style.display="none",document.getElementById("info_"+e).style.display="block",document.getElementById("info_"+e).innerHTML=t}function curso_delete_no(e){document.getElementById("info_"+e).innerHTML="",document.getElementById("info_"+e).style.display="none",document.getElementById("curso_"+e).style.display="block"}function curso_delete_yes(e){document.getElementById("info_"+e).innerHTML='<img src="/img/cargando.gif">',ajax(url,{id:e,type:"eliminar_curso"},function(t){isEmpty(t.error)?(document.getElementById("info_"+e).innerHTML=t.status,success(t.status)):(document.getElementById("info_"+e).innerHTML=t.error,error(t.error),setTimeout(function(){document.getElementById("info_"+e).innerHTML="",document.getElementById("info_"+e).style.display="none",document.getElementById("curso_"+e).style.display="block"},3e3))},"Json")}function curso_estadistica(e){document.getElementById("curso_"+e).style.display="none",document.getElementById("info_"+e).style.display="block",document.getElementById("info_"+e).innerHTML='<img src="/img/cargando.gif">',ajax(url,{id:e,type:"estadisticas"},function(t){document.getElementById("info_"+e).innerHTML=t.result},"Json")}function curso_estadistica_no(e){document.getElementById("info_"+e).innerHTML="",document.getElementById("info_"+e).style.display="none",document.getElementById("curso_"+e).style.display="block"}function curso_mensaje(e){document.getElementById("curso_"+e).style.display="none",document.getElementById("info_"+e).style.display="block",ajax(url,{id:e,type:"curso_mensaje"},function(t){document.getElementById("info_"+e).innerHTML=t.msg},"Json")}function curso_mensaje_no(e){document.getElementById("info_"+e).innerHTML="",document.getElementById("info_"+e).style.display="none",document.getElementById("curso_"+e).style.display="block"}function curso_public(e,t){var n;n="YES"==t?'El curso se encuentra en revision: <a class="icon-no" onclick="javascript:curso_public_no('+e+')"></a>':'Quiere enviar el curso a revision para su publicacion: <a class="icon-yes" onclick="javascript:curso_public_yes('+e+')"></a> <a class="icon-no" onclick="javascript:curso_public_no('+e+')"></a>',document.getElementById("curso_"+e).style.display="none",document.getElementById("info_"+e).style.display="block",document.getElementById("info_"+e).innerHTML=n}function curso_public_no(e){document.getElementById("info_"+e).innerHTML="",document.getElementById("info_"+e).style.display="none",document.getElementById("curso_"+e).style.display="block"}function curso_public_yes(e){document.getElementById("info_"+e).innerHTML='<img src="/img/cargando.gif">',ajax(url,{id:e,type:"revicion_curso"},function(t){document.getElementById("info_"+e).innerHTML=t.status,success(t.status)},"Json")}function curso_publicar(e){document.getElementById("curso_"+e).style.display="none",document.getElementById("publicar_"+e).style.display="block"}function curso_publicar_cancel(e){document.getElementById("publicar_"+e).style.display="none",document.getElementById("curso_"+e).style.display="block",document.getElementById("content_"+e).value=""}function curso_publicar_no(e){var t=document.getElementById("content_"+e).value;if(!check(t)){if(t.length<10&&error("Debe ingresar minimo 10 caracteres"),version<=8)for(var n=getElementsByClassName("cargando"+e),o=0;o<n.length;o++)n[o].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando"+e).innerHTML='<img src="/img/cargando.gif">';document.getElementById("publicar_cargando_"+e).style.display="none",ajax(url,{content:t,id:e,type:"curso_publicar_no"},function(t){if(version<=8)for(var n=getElementsByClassName("cargando"+e),o=0;o<n.length;o++)n[o].innerHTML="";else document.querySelector(".cargando"+e).innerHTML="";document.getElementById("publicar_cargando_"+e).style.display="block",document.getElementById("publicar_"+e).style.display="none",document.getElementById("curso_"+e).style.display="block",document.getElementById("content_"+e).value="",isEmpty(t.error)?success(t.status):error(t.error)},"Json")}}function curso_publicar_yes(e){var t=document.getElementById("content_"+e).value;if(!check(t)){if(t.length<10&&error("Debe ingresar minimo 10 caracteres"),version<=8)for(var n=getElementsByClassName("cargando"+e),o=0;o<n.length;o++)n[o].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando"+e).innerHTML='<img src="/img/cargando.gif">';document.getElementById("publicar_cargando_"+e).style.display="none",ajax(url,{content:t,id:e,type:"curso_publicar_yes"},function(t){if(version<=8)for(var n=getElementsByClassName("cargando"+e),o=0;o<n.length;o++)n[o].innerHTML="";else document.querySelector(".cargando"+e).innerHTML="";document.getElementById("publicar_cargando_"+e).style.display="none",document.getElementById("publicar_"+e).style.display="none",document.getElementById("curso_"+e).style.display="block",document.getElementById("curso_"+e).innerHTML="El curso se publico con exito",isEmpty(t.error)?success(t.status):error(t.error)},"Json")}}function curso_ver(e,t){"NO"==t||$(location).attr("href","url")}function cap_cancel(e){document.getElementById("form_"+e).style.display="none",document.getElementById("cap_delete_"+e).style.display="none",document.getElementById("cap_"+e).style.display="block"}function cap_delete(e){document.getElementById("cap_"+e).style.display="none",document.getElementById("cap_delete_"+e).style.display="block"}function cap_form(e){document.getElementById("cap_"+e).style.display="none",document.getElementById("form_"+e).style.display="block"}function cap_mostrar(e){document.getElementById("mostrar_tema_"+e).style.display="block",document.getElementById("cap_mostrar_"+e).style.display="none",document.getElementById("cap_ocultar_"+e).style.display="block"}function cap_nuevo(e,t){if(document.getElementById("capitulo_nuevo").style.display="none",version<=8)for(var n=getElementsByClassName("cargando"),e=0;e<n.length;e++)n[e].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando").innerHTML='<img src="/img/cargando.gif">';count_cap=0==parseInt(count_cap)?e:parseInt(count_cap)+1,ajax(url,{i:count_cap,id:t,type:"cap_nuevo"},function(e){if(version<=8)for(var t=getElementsByClassName("cargando"),n=0;n<t.length;n++)t[n].innerHTML="";else document.querySelector(".cargando").innerHTML="";document.getElementById("capitulo_nuevo").style.display="block",document.getElementById("u").innerHTML+="<li class='item' draggable='true' id='"+e.i+"'>"+e.texto+"</li>",reinicio(),success(e.status)},"Json")}function cap_ocultar(e){document.getElementById("mostrar_tema_"+e).style.display="none",document.getElementById("cap_ocultar_"+e).style.display="none",document.getElementById("cap_mostrar_"+e).style.display="block"}function cap_submit(e){var t=$("#form_cap_"+e).find("#title").val();check(t)||(document.getElementById("form_cap_"+e).style.display="none",document.getElementById("cargando_line_"+e).innerHTML='<img src="/img/cargando.gif">',ajax(url,{title:t,id:e,type:"form_cap_edit"},function(t){document.getElementById("cargando_line_"+t.id).innerHTML="",document.getElementById("form_cap_"+e).style.display="block",$("#form_cap_"+t.id).find("#title").val(t.title),document.getElementById("form_"+t.id).style.display="none",document.getElementById("cap_"+t.id).style.display="block",document.getElementById("cap_title_"+t.id).innerHTML=t.title,success(t.status)},"Json"))}function tema_bajar(e,t){if(0==tema_orden){var n=document.getElementById("li_"+e+t).getAttribute("data-orden"),o=parseInt(document.getElementById("conteo_"+e).getAttribute("data-i"))-1;if(n!=o){tema_orden=1;var r,a=parseInt(n)-1,l=parseInt(n),i=$(".items"+e),s=[];$.each(i,function(e){e==a&&(r=$(this).clone())}),i.eq(a).remove(),r.insertAfter(i.eq(l));var c=$(".items"+e);$.each(c,function(e){s.push({id:parseInt(this.getAttribute("data-id"))})});for(var d in s)$(".number_tema_"+parseInt(s[d].id)).html("Tema "+(parseInt(d)+1)+": "),$(".orden"+parseInt(s[d].id)).attr("data-orden",parseInt(d)+1);var m=parseInt(a)+2;ajax(url,{current:m,current_id:s[l].id,prev:n,prev_id:s[a].id,type:"tema_subir"},function(e){tema_orden=0,success(e.status)},"Json")}}}function tema_cancel(e){document.getElementById("form_"+e).style.display="none",document.getElementById("tema_delete_"+e).style.display="none",document.getElementById("tema_"+e).style.display="block"}function tema_doc(e,t){for(var n=document.getElementById("doc"+e).value,o=0;o<=codigo.length;o++)for(;n.indexOf(codigo[o])>=0;)n=n.replace(codigo[o],replace[o]);document.getElementById("button_doc_"+e).style.display="none",document.getElementById("data_doc_"+e).innerHTML="Guardando . . .",ajax(url,{contenido:n,id_tema:t,type:"form_tema_doc"},function(t){document.getElementById("button_doc_"+e).style.display="inline-block",document.getElementById("data_doc_"+e).innerHTML=t.status,success(t.status),setTimeout(function(){document.getElementById("data_doc_"+e).innerHTML=""},4e3)},"Json")}function tema_delete(e){document.getElementById("tema_"+e).style.display="none",document.getElementById("tema_delete_"+e).style.display="block"}function tema_delete_yes(e,t,n){document.getElementById("tema_delete_"+t+e).innerHTML='<div class="cargando_line"><img src="/img/cargando.gif"></div>';var o=document.getElementById("conteo_"+t).getAttribute("data-i")-1;ajax(url,{id_tema:e,id_cap:t,id_curso:n,type:"tema_delete"},function(n){document.getElementById(""+t+e).style.display="none",document.getElementById("_info_"+t+e).style.display="none",document.getElementById("conteo_"+t).setAttribute("data-i",o);for(a in n)if(version<=8)for(var r=getElementsByClassName("number_tema_"+parseInt(n[a].id)),a=0;a<r.length;a++)r[a].innerHTML="Tema "+(parseInt(a)+1)+": ";else document.querySelector(".number_tema_"+parseInt(n[a].id)).innerHTML="Tema "+(parseInt(a)+1)+": ";success("El tema se elimino con exito")},"Json")}function tema_form(e){document.getElementById("tema_"+e).style.display="none",document.getElementById("form_"+e).style.display="block"}function tema_github(e,t){var n=document.getElementById("github"+e).value;return validateUrl(n)?(document.getElementById("button_github_"+e).style.display="none",document.getElementById("data_github_"+e).innerHTML="Guardando . . .",void ajax(url,{github:n,id_tema:t,type:"form_tema_github"},function(t){isEmpty(t.error)?(document.getElementById("button_github_"+e).style.display="inline-block",document.getElementById("data_github_title_"+e).innerHTML="Repositorio: Tiene un repositorio asignado a este tema",document.getElementById("data_github_"+e).innerHTML=t.status,success(t.status),setTimeout(function(){document.getElementById("data_github_"+e).innerHTML=""},4e3)):(document.getElementById("button_github_"+e).style.display="inline-block",document.getElementById("data_github_"+e).innerHTML="",error(t.error))},"Json")):void error("Ingrese una url valida")}function tema_info(e,t){for(var n=document.getElementById("info"+e).value,o=0;o<=codigo.length;o++)for(;n.indexOf(codigo[o])>=0;)n=n.replace(codigo[o],replace[o]);document.getElementById("button_info_"+e).style.display="none",document.getElementById("data_info_"+e).innerHTML="Guardando . . .",ajax(url,{contenido:n,id_tema:t,type:"form_tema_info"},function(t){document.getElementById("button_info_"+e).style.display="inline-block",document.getElementById("data_info_"+e).innerHTML=t.status,success(t.status),setTimeout(function(){document.getElementById("data_info_"+e).innerHTML=""},3e3)},"Json")}function tema_nuevo(e,t){var n=document.getElementById("conteo_"+t).getAttribute("data-i");if(version<=8)for(var o=getElementsByClassName("tema_nuevo"+t),r=0;r<o.length;r++)o[r].style.display="none";else document.querySelector(".tema_nuevo"+t).style.display="none";document.getElementById("cargando_tema"+t).innerHTML='<div class="cargando"><img src="/img/cargando.gif"></div>',ajax(url,{i:n,id_curso:e,id_cap:t,type:"tema_nuevo"},function(e){if(document.getElementById("cargando_tema"+e.id).innerHTML="",version<=8)for(var t=getElementsByClassName("tema_nuevo"+e.id),n=0;n<t.length;n++)t[n].style.display="block";else document.querySelector(".tema_nuevo"+e.id).style.display="block";if(version<=8)for(var t=getElementsByClassName("add_temas_"+e.id),n=0;n<t.length;n++)t[n].innerHTML+=e.texto;else document.querySelector(".add_temas_"+e.id).innerHTML+=e.texto;document.getElementById("conteo_"+e.id).setAttribute("data-i",parseInt(e.i)+1),success(e.status)},"Json")}function tema_mostrar(e){document.getElementById("iconos_"+e).style.display="block",document.getElementById("_info_"+e).style.display="block",document.getElementById("mostrar_"+e).style.display="none",document.getElementById("ocultar_"+e).style.display="block"}function tema_ocultar(e){document.getElementById("iconos_"+e).style.display="none",document.getElementById("_info_"+e).style.display="none",document.getElementById("ocultar_"+e).style.display="none",document.getElementById("mostrar_"+e).style.display="block"}function tema_subir(e,t){if(0==tema_orden){var n=document.getElementById("li_"+e+t).getAttribute("data-orden");if(1!=n){tema_orden=1;var o,r=parseInt(n)-1,a=parseInt(n)-2,l=$(".items"+e),i=[];$.each(l,function(e){e==r&&(o=$(this).clone())}),l.eq(r).remove(),o.insertBefore(l.eq(a));var s=$(".items"+e);$.each(s,function(e){i.push({id:parseInt(this.getAttribute("data-id"))})});for(var c in i)$(".number_tema_"+parseInt(i[c].id)).html("Tema "+(parseInt(c)+1)+": "),$(".orden"+parseInt(i[c].id)).attr("data-orden",parseInt(c)+1);ajax(url,{current:r,current_id:i[a].id,prev:n,prev_id:i[r].id,type:"tema_subir"},function(e){tema_orden=0,success(e.status)},"Json")}}}function tema_video(e,t){var n=document.getElementById("video"+e).value;document.getElementById("button_video_"+e).style.display="none",document.getElementById("data_video_"+e).innerHTML="Guardando . . .",ajax(url,{video:n,id_tema:t,type:"form_tema_video"},function(t){isEmpty(t.error)?(document.getElementById("button_video_"+e).style.display="inline-block",document.getElementById("data_video_title_"+e).innerHTML="Titulo: "+t.title[0],document.getElementById("data_video_"+e).innerHTML=t.status,success(t.status),setTimeout(function(){document.getElementById("data_video_"+e).innerHTML=""},4e3)):(document.getElementById("button_video_"+e).style.display="inline-block",document.getElementById("data_video_"+e).innerHTML="",error(t.error))},"Json")}function tema_visibility(e,t,n){"public"==n?document.getElementById("tema_public_"+e).style.display="none":"draw"==n&&(document.getElementById("tema_draw_"+e).style.display="none"),ajax(url,{visibility:n,id:e,id_tema:t,type:"tema_visibility"},function(e){document.getElementById("tema_"+e["return"]+"_"+e.id).style.display="block",success(e.status)},"Json")}function tema_router(e,t){"info"==t?(document.getElementById("info_"+e).style.display="block",document.getElementById("doc_"+e).style.display="none",document.getElementById("video_"+e).style.display="none",document.getElementById("github_"+e).style.display="none"):"doc"==t?(document.getElementById("info_"+e).style.display="none",document.getElementById("doc_"+e).style.display="block",document.getElementById("video_"+e).style.display="none",document.getElementById("github_"+e).style.display="none"):"video"==t?(document.getElementById("info_"+e).style.display="none",document.getElementById("doc_"+e).style.display="none",document.getElementById("video_"+e).style.display="block",document.getElementById("github_"+e).style.display="none"):"github"==t&&(document.getElementById("info_"+e).style.display="none",document.getElementById("doc_"+e).style.display="none",document.getElementById("video_"+e).style.display="none",document.getElementById("github_"+e).style.display="block")}function tema_submit(e,t){var n=$("#form_tema_"+e).find("#title").val();check(n)||(document.getElementById("form_tema_"+e).style.display="none",document.getElementById("cargando_line_"+e).innerHTML='<img src="/img/cargando.gif">',ajax(url,{title:n,id:e,id_tema:t,type:"form_tema_edit"},function(t){document.getElementById("cargando_line_"+t.id).innerHTML="",document.getElementById("form_tema_"+e).style.display="block",$("#form_tema_"+t.id).find("#title").val(t.title),document.getElementById("form_"+t.id).style.display="none",document.getElementById("tema_"+t.id).style.display="block",document.getElementById("tema_title_"+t.id).innerHTML=t.title,success(t.status)},"Json"))}function delete_category(e){document.getElementById("cat_"+e).innerHTML='<img src="/img/cargando.gif">',ajax(url,{type:"eliminar_categoria",id:e},function(e){document.getElementById("cat_"+e.id).innerHTML=e.status,success(e.status)},"Json")}function toolbox(e,t){if(1==e){var n=getCursorSelection(document.getElementById(t));n||(n="// aqui va el codigo");var o="[code]"+n+"[/code]",r=getCursorPosition(document.getElementById(t)),a=document.getElementById(t).value;a=a.substr(0,r)+o+a.substr(r+n.length,a.length),document.getElementById(t).value=a,setCursorPosition(document.getElementById(t),r+(o.length-7)),document.getElementById(t).focus()}else if(2==e){var n=getCursorSelection(document.getElementById(t)),o="[b]"+n+"[/b]",r=getCursorPosition(document.getElementById(t)),a=document.getElementById(t).value;a=a.substr(0,r)+o+a.substr(r+n.length,a.length),document.getElementById(t).value=a,setCursorPosition(document.getElementById(t),r+o.length),document.getElementById(t).focus()}else if(3==e){var n=getCursorSelection(document.getElementById(t)),o="[I]"+n+"[/I]",r=getCursorPosition(document.getElementById(t)),a=document.getElementById(t).value;a=a.substr(0,r)+o+a.substr(r+n.length,a.length),document.getElementById(t).value=a,setCursorPosition(document.getElementById(t),r+o.length),document.getElementById(t).focus()}else if(4==e){var n=getCursorSelection(document.getElementById(t)),o="[u]"+n+"[/u]",r=getCursorPosition(document.getElementById(t)),a=document.getElementById(t).value;a=a.substr(0,r)+o+a.substr(r+n.length,a.length),document.getElementById(t).value=a,setCursorPosition(document.getElementById(t),r+o.length),document.getElementById(t).focus()}else if(5==e){var n=getCursorSelection(document.getElementById(t)),o="[t]"+n+"[/t]",r=getCursorPosition(document.getElementById(t)),a=document.getElementById(t).value;a=a.substr(0,r)+o+a.substr(r+n.length,a.length),document.getElementById(t).value=a,setCursorPosition(document.getElementById(t),r+o.length),document.getElementById(t).focus()}}function check(e){var t="";if(0==e.length?t="* Debe llenar todos los campos del formulario":e.indexOf("<")!=-1?t='Esta ingresando caracteres no permitidos "<"':e.indexOf(">")!=-1?t='Esta ingresando caracteres no permitidos ">"':e.indexOf(";")!=-1&&(t='Esta ingresando caracteres no permitidos ";"'),!isEmpty(t)){if(version<=8)for(var n=getElementsByClassName("error"),o=0;o<n.length;o++)n[o].innerHTML=t,n[o].style.marginTop="0px";else document.querySelector(".error").innerHTML=t,document.querySelector(".error").style.transform="translateY(0)";return setTimeout(function(){if(version<=8)for(var e=getElementsByClassName("error"),t=0;t<e.length;t++)e[t].style.marginTop="-60px";else document.querySelector(".error").style.transform="translateY(-60px)"},3e3),!0}}function error(e){if(version<=8)for(var t=getElementsByClassName("error"),n=0;n<t.length;n++)t[n].innerHTML=e,t[n].style.marginTop="0px";else document.querySelector(".error").innerHTML=e,document.querySelector(".error").style.transform="translateY(0)",document.querySelector(".error").style.msTransform="translateY(0)",document.querySelector(".error").style.webkitTransform="translateY(0)";setTimeout(function(){if(version<=8)for(var e=getElementsByClassName("error"),t=0;t<e.length;t++)e[t].style.marginTop="-60px";else document.querySelector(".error").style.transform="translateY(-60px)",document.querySelector(".error").style.msTransform="translateY(-60px)",document.querySelector(".error").style.webkitTransform="translateY(-60px)"},3e3)}function success(e){if(version<=8)for(var t=getElementsByClassName("success"),n=0;n<t.length;n++)t[n].innerHTML=e,t[n].style.marginTop="0px";else document.querySelector(".success").innerHTML=e,document.querySelector(".success").style.transform="translateY(0)",document.querySelector(".success").style.msTransform="translateY(0)",document.querySelector(".success").style.webkitTransform="translateY(0)";setTimeout(function(){if(version<=8)for(var e=getElementsByClassName("success"),t=0;t<e.length;t++)e[t].style.marginTop="-60px";else document.querySelector(".success").style.transform="translateY(-60px)",document.querySelector(".success").style.msTransform="translateY(-60px)",document.querySelector(".success").style.webkitTransform="translateY(-60px)"},3e3)}var nav=navigator.appName,version=10,codigo=Array("<",">","){","(",")","\n","[b]","[/b]","[I]","[/I]","[u]","[/u]","[t]","[/t]","'","javascript:","array:","text/html"),replace=Array("[-","-]",") {","&-","-&","<br>","<b>","</b>","<i>","</i>","<u>","</u>","<strike>","</strike>",'"',"javascript :","array :","text/htm"),url="include/server_admin.php",count_cap=0,tema_orden=0;if("Microsoft Internet Explorer"==nav){var ie=navigator.userAgent.toLowerCase();version=parseInt(ie.split("msie")[1])}docReady(function(){$("textarea[maxlength]").on("keyup",function(){var e=$(this).attr("maxlength"),t=$(this).attr("id"),n=$(this).val(),o=e-n.length;$("#count_"+t).html(o),e<n.length&&$(this).val(n.substring(0,e))}),$("input[maxlength]").on("keyup",function(){var e=$(this).attr("maxlength"),t=$(this).attr("id"),n=$(this).val(),o=e-n.length;$("#count_"+t).html(o),e<n.length&&$(this).val(n.substring(0,e))});for(var e=document.getElementsByTagName("form"),t=0;t<e.length;t++)e[t].onsubmit=function(e){version<=8?window.event.returnValue=!1:e.preventDefault()};var n=document.getElementById("form_categoria")||"form";n.onsubmit=function(e){version<=8?window.event.returnValue=!1:e.preventDefault();var t=document.getElementById("name").value;if(!check(t)){if(document.getElementById("form_categoria").style.display="none",version<=8)for(var n=getElementsByClassName("cargando"),o=0;o<n.length;o++)n[o].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando").innerHTML='<img src="/img/cargando.gif">';ajax(url,{name:t,type:"form_categoria"},function(e){if(version<=8)for(var t=getElementsByClassName("cargando"),n=0;n<t.length;n++)t[n].innerHTML="";else document.querySelector(".cargando").innerHTML="";isEmpty(e.error)?(document.getElementById("form_categoria").style.display="block",document.getElementById("name").value="",document.getElementById("name").focus(),success(e.status)):(document.getElementById("form_categoria").style.display="block",document.getElementById("name").value=e.name,document.getElementById("name").focus(),error(e.error))},"Json")}};var o=document.getElementById("form_categoria_edit")||"form";o.onsubmit=function(e){version<=8?window.event.returnValue=!1:e.preventDefault();var t=document.getElementById("id").value,n=document.getElementById("name").value;if(!check(n)){if(document.getElementById("form_categoria_edit").style.display="none",version<=8)for(var o=getElementsByClassName("cargando"),r=0;r<o.length;r++)o[r].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando").innerHTML='<img src="/img/cargando.gif">';ajax(url,{id:t,name:n,type:"form_categoria_edit"},function(e){if(version<=8)for(var t=getElementsByClassName("cargando"),n=0;n<t.length;n++)t[n].innerHTML="";else document.querySelector(".cargando").innerHTML="";document.getElementById("form_categoria_edit").style.display="block",isEmpty(e.error)?(document.getElementById("name").value="",document.getElementById("name").focus(),success(e.status)):(document.getElementById("name").value=e.name,document.getElementById("name").focus(),error(e.error))},"Json")}};var r=document.getElementById("form_curso_editar")||"form";r.onsubmit=function(e){version<=8?window.event.returnValue=!1:e.preventDefault();var t=document.getElementById("title").value,n=document.getElementById("subtitle").value,o=document.getElementById("category").value,r=document.getElementById("id").value,a=document.getElementById("description").value,l=document.getElementById("requeriment").value;if(!(check(t)||check(n)||check(a)||check(l))){if(a=a.replace(/\n/g,"<br>"),l=l.replace(/\n/g,"<br>"),document.getElementById("form_curso_editar").style.display="none",version<=8)for(var i=getElementsByClassName("cargando_edit"),s=0;s<i.length;s++)i[s].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando_edit").innerHTML='<img src="/img/cargando.gif">';ajax(url,{category:o,description:a,requeriment:l,id:r,title:t,subtitle:n,type:"form_curso_editar"},function(e){if(version<=8)for(var t=getElementsByClassName("cargando_edit"),n=0;n<t.length;n++)t[n].innerHTML="";else document.querySelector(".cargando_edit").innerHTML="";document.getElementById("form_curso_editar").style.display="block",success(e.status)},"Json")}};var a=document.getElementById("form_curso_nuevo")||"form";a.onsubmit=function(e){version<=8?window.event.returnValue=!1:e.preventDefault();var t=document.getElementById("title").value,n=document.getElementById("subtitle").value,o=document.getElementById("category").value,r=document.getElementById("description").value,a=document.getElementById("requeriment").value;if(!(check(t)||check(n)||check(r)||check(a))){if(r=r.replace(/\n/g,"<br>"),a=a.replace(/\n/g,"<br>"),document.getElementById("form_curso_nuevo").style.display="none",version<=8)for(var l=getElementsByClassName("cargando"),i=0;i<l.length;i++)l[i].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando").innerHTML='<img src="/img/cargando.gif">';ajax(url,{category:o,description:r,requeriment:a,title:t,subtitle:n,type:"form_curso_nuevo"},function(e){var t='<li><a href="/admin-co/?category=course" class="icon-back"></a></li>',n='<p>Al curso se le asigno una imagen por defecto, puede cambiarla en la edición del curso.</p><p><a href="/admin-co/?category=course">Ir a cursos creados</a></p>';if(version<=8)for(var o=getElementsByClassName("cargando"),r=0;r<o.length;r++)o[r].innerHTML=n;else document.querySelector(".cargando").innerHTML=n;if(version<=8)for(var o=getElementsByClassName("menu_articulos"),r=0;r<o.length;r++)o[r].innerHTML+=t;else document.querySelector(".menu_articulos").innerHTML+=t;success(e.status)},"Json")}};var l=document.getElementById("form_logo")||"form";l.onsubmit=function(e){version<=8?window.event.returnValue=!1:e.preventDefault();var t=document.getElementById("img_logo").files[0],n=new FormData(l),o=(document.getElementById("id_curso").value,"http://"+document.domain+"/include/server_logo.php"),r="",a="";if("name"in t&&(r=t.name),"size"in t&&(a=t.size),a>10240)return void error("Tamaño maximo excedido");if(version<=8)for(var i=getElementsByClassName("cargando_logo"),s=0;s<i.length;s++)i[s].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando_logo").innerHTML='<img src="/img/cargando.gif">';document.getElementById("submit_logo").style.display="none",$.ajax({url:o,type:"POST",data:n,cache:!1,contentType:!1,processData:!1,success:function(e){success("Su logo se actualizo con exito");var t="Su logo se actualizo";document.getElementById("logo_msg").innerHTML=t;var n=Math.ceil(100*Math.random());if(document.getElementById("logo_img").setAttribute("src","/img_curso/"+e+"?"+n),document.getElementById("img_logo").value="",version<=8)for(var o=getElementsByClassName("cargando_logo"),r=0;r<o.length;r++)o[r].innerHTML="";else document.querySelector(".cargando_logo").innerHTML="";document.getElementById("submit_logo").style.display="block"},error:function(){error("Error al subir la imagen, intente nuevamente")}})};var i=document.getElementById("form_perfil")||"form";i.onsubmit=function(e){version<=8?window.event.returnValue=!1:e.preventDefault();var t=document.getElementById("acerca").value,n=document.getElementById("google").value,o=document.getElementById("twitter").value;if(!check(t)&&!check(n)&&!check(o)){if(t=t.replace(/\n/g,"<br>"),document.getElementById("form_perfil").style.display="none",version<=8)for(var r=getElementsByClassName("cargando_perfil"),a=0;a<r.length;a++)r[a].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando_perfil").innerHTML='<img src="/img/cargando.gif">';ajax(url,{bio:t,google:n,twitter:o,type:"form_perfil"},function(e){if(document.getElementById("form_perfil").style.display="block",version<=8)for(var t=getElementsByClassName("cargando_perfil"),n=0;n<t.length;n++)t[n].innerHTML="";else document.querySelector(".cargando_perfil").innerHTML="";success(e.status)},"Json")}};var s=document.getElementById("form_password")||"form";s.onsubmit=function(e){version<=8?window.event.returnValue=!1:e.preventDefault();var t=document.getElementById("perfil_pass").value,n=document.getElementById("perfil_pass1").value,o=document.getElementById("perfil_pass2").value;if(!check(t)&&!check(n)&&!check(o)){if(n.length<8)return void error("La contraseña debe tener al menos 8 caracteres");if(n!=o)return void error("Las contraseñas no coinciden, intente nuevamente");if(version<=8)for(var r=getElementsByClassName("cargando_password"),a=0;a<r.length;a++)r[a].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando_password").innerHTML='<img src="/img/cargando.gif">';document.getElementById("submit_password").style.display="none",ajax(url,{pass:t,new_pass:n,type:"form_password"},function(e){if(document.getElementById("perfil_pass").value="",document.getElementById("perfil_pass1").value="",document.getElementById("perfil_pass2").value="",version<=8)for(var t=getElementsByClassName("cargando_password"),n=0;n<t.length;n++)t[n].innerHTML="";else document.querySelector(".cargando_password").innerHTML="";if(document.getElementById("submit_password").style.display="inline-block",isEmpty(e.error)){success(e.status);var o="Su contraseña se cambio correctamente";document.getElementById("password_msg").innerHTML=o}else document.getElementById("perfil_pass").focus(),error(e.error)},"Json")}};var c=document.getElementById("form_avatar")||"form";c.onsubmit=function(e){version<=8?window.event.returnValue=!1:e.preventDefault();var t=document.getElementById("avatar_avatar").files[0],n=new FormData(c),o="include/server_avatar.php",r="",a="";if("name"in t&&(r=t.name),"size"in t&&(a=t.size),a>10240)return void error("Tamaño maximo excedido");if(version<=8)for(var l=getElementsByClassName("cargando_avatar"),i=0;i<l.length;i++)l[i].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando_avatar").innerHTML='<img src="/img/cargando.gif">';document.getElementById("submit_avatar").style.display="none",$.ajax({url:o,type:"POST",data:n,cache:!1,contentType:!1,processData:!1,success:function(e){success("Su avatar se actualizo con exito");var t="Su avatar se actualizo";document.getElementById("avatar_msg").innerHTML=t;var n=Math.ceil(100*Math.random());if(document.getElementById("avatar_img").setAttribute("src","/avatar/"+e+"?"+n),document.getElementById("header_avatar").setAttribute("src","/avatar/"+e+"?"+n),document.getElementById("avatar_avatar").value="",version<=8)for(var o=getElementsByClassName("cargando_avatar"),r=0;r<o.length;r++)o[r].innerHTML="";else document.querySelector(".cargando_avatar").innerHTML="";document.getElementById("submit_avatar").style.display="block"},error:function(){error("Error al subir la imagen, intente nuevamente");
}})};var d=document.getElementById("form_solicitud")||"form";d.onsubmit=function(e){version<=8?window.event.returnValue=!1:e.preventDefault();var t=document.getElementById("name").value;if(!check(t)){if(document.getElementById("form_solicitud").style.display="none",version<=8)for(var n=getElementsByClassName("cargando"),o=0;o<n.length;o++)n[o].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando").innerHTML='<img src="/img/cargando.gif">';ajax(url,{name:t,type:"form_categoria_solicitud"},function(e){var t="Recibira una respuesta a la brevedad posible";if(version<=8)for(var n=getElementsByClassName("cargando"),o=0;o<n.length;o++)n[o].innerHTML=t;else document.querySelector(".cargando").innerHTML=t;isEmpty(e.error)?success(e.status):error(e.error)},"Json")}};var m=document.getElementById("form_aviso")||"form";m.onsubmit=function(e){version<=8?window.event.returnValue=!1:e.preventDefault();var t=document.getElementById("id_curso").value,n=document.getElementById("aviso").value;if(n.length<=20)return void error("El aviso debe tener al menos 20 caracteres");for(var o=0;o<=codigo.length;o++)for(;n.indexOf(codigo[o])>=0;)n=n.replace(codigo[o],replace[o]);if(document.getElementById("form_aviso").style.display="none",version<=8)for(var r=getElementsByClassName("cargando"),o=0;o<r.length;o++)r[o].innerHTML='<img src="/img/cargando.gif">';else document.querySelector(".cargando").innerHTML='<img src="/img/cargando.gif">';ajax(url,{id_curso:t,contenido:n,type:"form_aviso"},function(e){var t="<p>El mensaje fue enviado a cada uno de los usuarios suscritos al curso.</p>";if(version<=8)for(var n=getElementsByClassName("cargando"),o=0;o<n.length;o++)n[o].innerHTML=t;else document.querySelector(".cargando").innerHTML=t;isEmpty(e.error)?success(e.status):error(e.error)},"Json")}});