function files(e){document.getElementById("content_dis_files").ondragover=function(e){return e.dataTransfer.dropEffect="move",this.style.border="1px dashed #000",!1},document.getElementById("content_dis_files").ondragleave=function(e){this.style.border="1px solid #Ff8124",this.style.borderBottom="3px solid #cc7013"},document.getElementById("discucion_form").ondragover=function(e){return!1},document.getElementById("discucion_form").ondrop=function(e){e.preventDefault(),e.stopPropagation()},document.getElementById("content_dis_files").ondrop=function(t){t.preventDefault(),t.stopPropagation();for(var r=Array("<",">","){","(",")","'","\t","javascript:","array:","text/html"),n=Array("[-","-]",") {","&-","-&",'"',"&nbsp;&nbsp;&nbsp;&nbsp;","javascript :","array :","text/htm"),o=t.dataTransfer.files.length,s=0;s<o;s++){var a=t.dataTransfer.files[s].name,i=t.dataTransfer.files[s].size/1e3;if(i<=10){var c=a.split("."),l=c.length-1,d=c[l];if(document.getElementById("content_dis_cargando").innerHTML='<img src="/img/cargando1.gif">',"html"==d||"js"==d||"css"==d||"php"==d||"json"==d||"c"==d||"cpp"==d||"h"==d||"cc"==d||"java"==d||"ino"==d){var u=t.dataTransfer.files[s],f=new FileReader,m="UTF-8";"c"!=d&&"cpp"!=d||(m="ISO-8859-1"),f.readAsText(u,m),f.addEventListener("progress",function(e){e.lengthComputable},!1),f.addEventListener("load",function(t){var o=t.target.result;console.log(o),o=o.replace(/</g,"&lt;"),o=o.replace(/>/g,"&gt;");for(var s=0;s<=r.length;s++)for(;o.indexOf(r[s])>=0;)o=o.replace(r[s],n[s]);ajax("include/server_files.php",{ext:d,name:a,size:i,contenido:o,control:e,type:"file_temp",tipo:"DIS"},function(e){document.getElementById("content_dis_cargando").innerHTML="",isEmpty(e.error)?(document.getElementById("content_dis_results").innerHTML+='<div id="file_'+e.id+'" class="files icon-'+d+'" onclick="javascript:files_mostrar('+e.id+')">'+a+" ("+i+'Kb)<span onclick="javascript:files_delete('+e.id+')">X</span></div>',success(e.status)):error(e.error)},"Json")},!1),f.addEventListener("error",function(e){"NotReadableError"==e.target.error.name&&(document.querySelector(".error").innerHTML="Error al subir el archivo intente nuevamente",document.querySelector(".error").style.transform="translateY(0)",setTimeout(function(){document.querySelector(".error").style.transform="translateY(-60px)"},3e3)),document.getElementById("content_dis_cargando").innerHTML=""},!1)}else document.querySelector(".error").innerHTML="Extensi√≥n no valida",document.querySelector(".error").style.transform="translateY(0)",setTimeout(function(){document.querySelector(".error").style.transform="translateY(-60px)"},3e3),document.getElementById("content_dis_cargando").innerHTML=""}else document.querySelector(".error").innerHTML="Archivo mayor a 10 Kb",document.querySelector(".error").style.transform="translateY(0)",setTimeout(function(){document.querySelector(".error").style.transform="translateY(-60px)"},3e3)}return this.style.border="1px solid #009957",!1}}function files_delete(e){ajax("include/server_files.php",{id:e,type:"file_delete"},function(e){document.getElementById("file_"+e.id).style.display="none",back_files(),success(e.status)},"Json")}